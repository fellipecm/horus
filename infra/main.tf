# TODO The private key generated by this resource will be stored unencrypted in your Terraform state file.
# Generate a private key file outside of Terraform and distribute it securely to the system where Terraform will be run instead.
resource "tls_private_key" "ssh" {
  algorithm   = "ECDSA"
  ecdsa_curve = "P256"
}

module "network" {
  source         = "./modules/network"
  compartment_id = var.compartment_id
}

# module "k3s_cluster" {
#   source         = "./modules/k3s-cluster"
#   server_count   = 1
#   agent_count    = 3
#   ssh_public_key = tls_private_key.ssh.public_key_openssh
#   subnet_id      = module.network.subnet_id
# }
